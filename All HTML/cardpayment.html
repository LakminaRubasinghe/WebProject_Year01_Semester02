<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Card Payment</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="../All CSS/card_cart.css" rel="stylesheet">
  <link href="../All CSS/Global_CSS.css" rel="stylesheet">

</head>

<body class="bg-light-page">

  <ul class="nav justify-content-end">
    <li class="nav-item">
      <a class="nav-link" href="../index.html">Home</a>
    </li>
    <li class="nav-item">
      <a class="nav-link" href="aboutus.html">About Us</a>
    </li>
    <li class="nav-item">
      <a class="nav-link" href="contactus.html">Contact Us</a>
    </li>
  </ul>

  <div class="container card-payment">
    <form action="../All HTML/thankyou.html">
      <h2 class="card-payment-title">Card Details </h2><br>
      <div class="textbox">
        <div>
          <label for="validationCustom01" class="form-label">Name on the Card</label>
          <input type="text" class="form-control" id="validationCustom01" required><br>
        </div>

        <div>
          <label for="validationCustom02" class="form-label">Card Number</label>
          <input type="text" class="form-control" id="validationCustom02" placeholder="1234 1234 1234 1234" required>
          <small>
            <p id="invalidNumberMessage"></p>
          </small>
        </div>

        <div>
          <label for="validationCustomUsername" class="form-label">Date-of-expiry</label>
          <input type="month" class="form-control" id="validationCustomDate" required> <br>
        </div>

        <div>
          <label for="validationCustom03" class="form-label">CVV</label>
          <input type="text" class="form-control" id="validationCustom03" placeholder="123" required>
          <small>
            <p id="cvvmsg"></p>
          </small>
        </div>
        <br>
        <div class="col-12">
          <div class="form-check">
            <input class="form-check-input" type="checkbox" id="invalidCheck" required>
            <label class="form-check-label" for="invalidCheck">
              Agree to terms and conditions
            </label>
            <div class="invalid-feedback">
              You must agree before submitting.
            </div>
          </div>
        </div>
      </div>
      <br>

      <div class="col-12">
        <button class="btn btn-primary" type="submit" onclick="return validateForm()">Pay now</button>
      </div>
    </form>
  </div>

  <footer class="bg-dark text-white text-center p-3 mt-5">
    &copy; 2025 FoodExpress. All rights reserved.
  </footer>

  <script>
    function validateCard() {
      const cardInput = document.getElementById("validationCustom02").value.trim();
      const message = document.getElementById("invalidNumberMessage");
      const cardFormat = /^\d{4} \d{4} \d{4} \d{4}$/;

      if (cardFormat.test(cardInput)) {
        message.textContent = "";
        return true;
      } else {
        message.textContent = "❌ Enter card number in the format: 1234 1234 1234 1234";
        message.style.color = "red";
        return false;
      }
    }

    function validateCVV() {
      const cvvInput = document.getElementById("validationCustom03").value.trim();
      const msg = document.getElementById("cvvmsg");
      const cvvFormat = /^\d{3}$/;

      if (cvvFormat.test(cvvInput)) {
        msg.textContent = "";
        return true;
      } else {
        msg.textContent = "❌ Enter valid CVV number (e.g. 123)";
        msg.style.color = "red";
        return false;
      }
    }

    function validateForm() {
      const cardValid = validateCard();
      const cvvValid = validateCVV();

      return cardValid && cvvValid;
    }
  </script>

</body>

</html>